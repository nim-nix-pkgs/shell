<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>shell</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);

  const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark') {
      toggleSwitch.checked = true;
    }
  }
}

window.addEventListener('DOMContentLoaded', main);
</script>

</head>
<body>
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">shell</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    <li>
      <a href="theindex.html">Index</a>
    </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#DebugOutputKind"
    title="DebugOutputKind = enum
  dokCommand, dokError, dokOutput, dokRuntime">DebugOutputKind</a></li>
  <li><a class="reference" href="#ShellExecError"
    title="ShellExecError = ref object of CatchableError
  cmd*: string               ## Command that returned non-zero exit code
  cwd*: string               ## Absolute path of initial command execution directory
  retcode*: int              ## Exit code
  errstr*: string            ## Stderr for command
  outstr*: string            ## Stdout for command">ShellExecError</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">asgnShell
      <li><a class="reference" href="#asgnShell%2Cstring%2Cset%5BDebugOutputKind%5D%2Cset%5BProcessOption%5D"
    title="asgnShell(cmd: string; debugConfig: set[DebugOutputKind] = defaultDebugConfig;
          options: set[ProcessOption] = defaultProcessOptions): tuple[
    output, error: string, exitCode: int]">asgnShell,<wbr>string,<wbr>set[DebugOutputKind],<wbr>set[ProcessOption]</a></li>

  </ul>
  <ul class="simple nested-toc-section">execShell
      <li><a class="reference" href="#execShell%2Cstring%2Cset%5BDebugOutputKind%5D%2Cset%5BProcessOption%5D"
    title="execShell(cmd: string; debugConfig: set[DebugOutputKind] = defaultDebugConfig;
          options: set[ProcessOption] = defaultProcessOptions): tuple[
    output, error: string, exitCode: int]">execShell,<wbr>string,<wbr>set[DebugOutputKind],<wbr>set[ProcessOption]</a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#17" id="67">Macros</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#shellVerbose.m%2Cvarargs%5Buntyped%5D"
    title="shellVerbose(args: varargs[untyped]): untyped">shellVerbose</a></li>
  <li><a class="reference" href="#shellVerboseErr.m%2Cvarargs%5Buntyped%5D"
    title="shellVerboseErr(args: varargs[untyped]): untyped">shellVerboseErr</a></li>
  <li><a class="reference" href="#shell.m%2Cuntyped"
    title="shell(cmds: untyped): untyped">shell</a></li>
  <li><a class="reference" href="#shellEcho.m%2Cuntyped"
    title="shellEcho(cmds: untyped): untyped">shellEcho</a></li>
  <li><a class="reference" href="#checkShell.m%2Cuntyped%2Cuntyped"
    title="checkShell(cmds: untyped; exp: untyped): untyped">checkShell</a></li>
  <li><a class="reference" href="#shellAssign.m%2Cuntyped"
    title="shellAssign(cmd: untyped): untyped">shellAssign</a></li>

  </ul>
</li>

</ul>

  </div>
  &nbsp;&nbsp;<a
href="https://github.com/Vindaar/shell/tree/master/shell.nim#L1"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/Vindaar/shell/edit/master/shell.nim#L1" class="link-seesrc" target="_blank" >Edit</a>

  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"></p>
  <div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<a id="DebugOutputKind"></a>
<dt><pre><a href="shell.html#DebugOutputKind"><span class="Identifier">DebugOutputKind</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">dokCommand</span><span class="Other">,</span> <span class="Identifier">dokError</span><span class="Other">,</span> <span class="Identifier">dokOutput</span><span class="Other">,</span> <span class="Identifier">dokRuntime</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/Vindaar/shell/tree/master/shell.nim#L18"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/Vindaar/shell/edit/master/shell.nim#L18" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="ShellExecError"></a>
<dt><pre><a href="shell.html#ShellExecError"><span class="Identifier">ShellExecError</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">CatchableError</span>
  <span class="Identifier">cmd</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>               <span class="Comment">## Command that returned non-zero exit code</span>
  <span class="Identifier">cwd</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>               <span class="Comment">## Absolute path of initial command execution directory</span>
  <span class="Identifier">retcode</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>              <span class="Comment">## Exit code</span>
  <span class="Identifier">errstr</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>            <span class="Comment">## Stderr for command</span>
  <span class="Identifier">outstr</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">string</span>            <span class="Comment">## Stdout for command</span>
  </pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/Vindaar/shell/tree/master/shell.nim#L25"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/Vindaar/shell/edit/master/shell.nim#L25" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="asgnShell,string,set[DebugOutputKind],set[ProcessOption]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#asgnShell%2Cstring%2Cset%5BDebugOutputKind%5D%2Cset%5BProcessOption%5D"><span class="Identifier">asgnShell</span></a><span class="Other">(</span><span class="Identifier">cmd</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span>
               <span class="Identifier">debugConfig</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="shell.html#DebugOutputKind"><span class="Identifier">DebugOutputKind</span></a><span class="Other">]</span> <span class="Other">=</span> <span class="Identifier">defaultDebugConfig</span><span class="Other">;</span>
               <span class="Identifier">options</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><span class="Identifier">ProcessOption</span><span class="Other">]</span> <span class="Other">=</span> <span class="Identifier">defaultProcessOptions</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">[</span>
    <span class="Identifier">output</span><span class="Other">,</span> <span class="Identifier">error</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">,</span> <span class="Identifier">exitCode</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadEnvEffect</span><span class="Other">,</span>
    <span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

wrapper around <tt class="docutils literal"><span class="pre">execCmdEx</span></tt>, which returns the output of the shell call as a string (stripped of <tt class="docutils literal"><span class="pre">n</span></tt>)
&nbsp;&nbsp;<a
href="https://github.com/Vindaar/shell/tree/master/shell.nim#L259"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/Vindaar/shell/edit/master/shell.nim#L259" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="execShell,string,set[DebugOutputKind],set[ProcessOption]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#execShell%2Cstring%2Cset%5BDebugOutputKind%5D%2Cset%5BProcessOption%5D"><span class="Identifier">execShell</span></a><span class="Other">(</span><span class="Identifier">cmd</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span>
               <span class="Identifier">debugConfig</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="shell.html#DebugOutputKind"><span class="Identifier">DebugOutputKind</span></a><span class="Other">]</span> <span class="Other">=</span> <span class="Identifier">defaultDebugConfig</span><span class="Other">;</span>
               <span class="Identifier">options</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><span class="Identifier">ProcessOption</span><span class="Other">]</span> <span class="Other">=</span> <span class="Identifier">defaultProcessOptions</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">[</span>
    <span class="Identifier">output</span><span class="Other">,</span> <span class="Identifier">error</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">,</span> <span class="Identifier">exitCode</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadEnvEffect</span><span class="Other">,</span>
    <span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

wrapper around <tt class="docutils literal"><span class="pre">asgnShell</span></tt>, which calls the commands and handles return values.
&nbsp;&nbsp;<a
href="https://github.com/Vindaar/shell/tree/master/shell.nim#L326"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/Vindaar/shell/edit/master/shell.nim#L326" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>
<div class="section" id="17">
<h1><a class="toc-backref" href="#17">Macros</a></h1>
<dl class="item">
<a id="shellVerbose.m,varargs[untyped]"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#shellVerbose.m%2Cvarargs%5Buntyped%5D"><span class="Identifier">shellVerbose</span></a><span class="Other">(</span><span class="Identifier">args</span><span class="Other">:</span> <span class="Identifier">varargs</span><span class="Other">[</span><span class="Identifier">untyped</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>See the <tt class="docutils literal"><span class="pre">shell</span></tt> macro below for a general explanation.</p>
<p>This macro differs from <tt class="docutils literal"><span class="pre">shell</span></tt> in as such that it</p>
<ol class="simple"><li>returns a tuple of</li>
</ol>
<blockquote><p><ul class="simple"><li><tt class="docutils literal"><span class="pre">output: string</span></tt> &lt;- output of the shell command to stdout</li>
<li><tt class="docutils literal"><span class="pre">exitCode: int</span></tt> &lt;- the exit code as an integer</li>
</ul>
</p></blockquote>
<ol class="simple" start="2"><li>allows to customize the error output behavior by handing the</li>
</ol>
<p>argument <tt class="docutils literal"><span class="pre">debugConfig</span></tt> (see below) as well as the process options with which <tt class="docutils literal"><span class="pre">startProcess</span></tt> is called by using the <tt class="docutils literal"><span class="pre">options</span></tt> argument.</p>
<p>As you notice the macro signature is <tt class="docutils literal"><span class="pre">args: varargs[untyped]</span></tt>. This macro parses the given arguments manually (to allow multiple named arguments in an untyped macro). If the arguments are not named, they are expected in the order as shown below. <tt class="docutils literal"><span class="pre">combineOutAndErr</span></tt> has to be named!</p>
<p>The following arguments are possible:</p>
<ul class="simple"><li><tt class="docutils literal"><span class="pre">debug</span></tt>, <tt class="docutils literal"><span class="pre">debugConfig</span></tt>: a set of <tt class="docutils literal"><span class="pre">DebugOutputKind</span></tt></li>
<li><tt class="docutils literal"><span class="pre">options</span></tt>, <tt class="docutils literal"><span class="pre">processOptions</span></tt>: a set of <tt class="docutils literal"><span class="pre">ProcessOption</span></tt> (see <tt class="docutils literal"><span class="pre">stdlib.osproc</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">combineOutAndErr</span></tt>: a static bool to decide if the macro should return a 2 tuple of <tt class="docutils literal"><span class="pre">(output: string, errCode: int)</span></tt> (<tt class="docutils literal"><span class="pre">stderr</span></tt> is appended to <tt class="docutils literal"><span class="pre">stdout</span></tt>) or a 3 tuple of <tt class="docutils literal"><span class="pre">(output, outerr: string, errCode: int)</span></tt> (<tt class="docutils literal"><span class="pre">stderr</span></tt> separate) The latter can also be had by using the <tt class="docutils literal"><span class="pre">shellVerboseErr</span></tt> overload below.</li>
</ul>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">let</span><span class="Whitespace"> </span><span class="Punctuation">(</span><span class="Identifier">res</span><span class="Punctuation">,</span><span class="Whitespace"> </span><span class="Identifier">code</span><span class="Punctuation">)</span><span class="Whitespace"> </span><span class="Operator">=</span><span class="Whitespace"> </span><span class="Identifier">shellVerbose</span><span class="Punctuation">(</span><span class="Identifier">debug</span><span class="Whitespace"> </span><span class="Operator">=</span><span class="Whitespace"> </span><span class="Punctuation">{</span><span class="Identifier">dokCommand</span><span class="Punctuation">}</span><span class="Punctuation">,</span><span class="Whitespace"> </span><span class="Identifier">options</span><span class="Whitespace"> </span><span class="Operator">=</span><span class="Whitespace"> </span><span class="Punctuation">{</span><span class="Identifier">poEvalCommand</span><span class="Punctuation">}</span><span class="Punctuation">,</span><span class="Whitespace">
                               </span><span class="Identifier">combineOutAndErr</span><span class="Whitespace"> </span><span class="Operator">=</span><span class="Whitespace"> </span><span class="Identifier">true</span><span class="Punctuation">)</span><span class="Punctuation">:</span><span class="Whitespace">
  </span><span class="Identifier">echo</span><span class="Whitespace"> </span><span class="StringLit">&quot;test&quot;</span><span class="Whitespace">

</span><span class="Identifier">assert</span><span class="Whitespace"> </span><span class="Identifier">res</span><span class="Whitespace"> </span><span class="Operator">==</span><span class="Whitespace"> </span><span class="StringLit">&quot;test&quot;</span><span class="Whitespace">
</span><span class="Identifier">assert</span><span class="Whitespace"> </span><span class="Identifier">code</span><span class="Whitespace"> </span><span class="Operator">==</span><span class="Whitespace"> </span><span class="DecNumber">0</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/Vindaar/shell/tree/master/shell.nim#L536"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/Vindaar/shell/edit/master/shell.nim#L536" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="shellVerboseErr.m,varargs[untyped]"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#shellVerboseErr.m%2Cvarargs%5Buntyped%5D"><span class="Identifier">shellVerboseErr</span></a><span class="Other">(</span><span class="Identifier">args</span><span class="Other">:</span> <span class="Identifier">varargs</span><span class="Other">[</span><span class="Identifier">untyped</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

Run shell command, return <tt class="docutils literal"><span class="pre">(stdout, stderr, code)</span></tt>. This is an overload of <tt class="docutils literal"><span class="pre">shellVerbose</span></tt> with <tt class="docutils literal"><span class="pre">combineOutAndErr = false</span></tt> by default.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">let</span><span class="Whitespace"> </span><span class="Punctuation">(</span><span class="Identifier">res</span><span class="Punctuation">,</span><span class="Whitespace"> </span><span class="Identifier">err</span><span class="Punctuation">,</span><span class="Whitespace"> </span><span class="Identifier">code</span><span class="Punctuation">)</span><span class="Whitespace"> </span><span class="Operator">=</span><span class="Whitespace"> </span><span class="Identifier">shellVerboseErr</span><span class="Whitespace"> </span><span class="Punctuation">{</span><span class="Identifier">dokCommand</span><span class="Punctuation">}</span><span class="Punctuation">:</span><span class="Whitespace">
  </span><span class="Identifier">echo</span><span class="Whitespace"> </span><span class="StringLit">&quot;test&quot;</span><span class="Whitespace">

</span><span class="Identifier">assert</span><span class="Whitespace"> </span><span class="Identifier">res</span><span class="Whitespace"> </span><span class="Operator">==</span><span class="Whitespace"> </span><span class="StringLit">&quot;test&quot;</span><span class="Whitespace">
</span><span class="Identifier">assert</span><span class="Whitespace"> </span><span class="Identifier">code</span><span class="Whitespace"> </span><span class="Operator">==</span><span class="Whitespace"> </span><span class="DecNumber">0</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/Vindaar/shell/tree/master/shell.nim#L573"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/Vindaar/shell/edit/master/shell.nim#L573" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="shell.m,untyped"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#shell.m%2Cuntyped"><span class="Identifier">shell</span></a><span class="Other">(</span><span class="Identifier">cmds</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>A mini DSL to write shell commands in Nim. Some constructs are not implemented. If in doubt, put (parts of) the command into <tt class="docutils literal"><span class="pre">&quot; &quot;</span></tt>.</p>
<p>The command is echoed before it is run. It is prefixed by</p>
<p><pre class="listing">
shellCmd:
</pre> If there is output, the output is echoed. Each successive line of the output is prefixed by</p>
<p><pre class="listing">
shell&gt;
</pre></p>
<p>If multiple commands are run in succession (i.e. multiple statements in the macro body) and one command returns a non-zero exit code, the following commands will not be run. Instead a warning message will be shown.</p>
<p>For usage with NimScript the output can only be echoed after the call has finished.</p>
<p>The exit code of the command is dropped. If you wish to inspect the exit code, use <tt class="docutils literal"><span class="pre">shellVerbose</span></tt> above.</p>

&nbsp;&nbsp;<a
href="https://github.com/Vindaar/shell/tree/master/shell.nim#L589"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/Vindaar/shell/edit/master/shell.nim#L589" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="shellEcho.m,untyped"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#shellEcho.m%2Cuntyped"><span class="Identifier">shellEcho</span></a><span class="Other">(</span><span class="Identifier">cmds</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

a helper macro around the proc that generates the shell commands to check whether the commands are as expected It echoes the commands at compile time (the representation of the command) and also the resulting string (taking into account potential) Nim symbol quoting at run time
&nbsp;&nbsp;<a
href="https://github.com/Vindaar/shell/tree/master/shell.nim#L616"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/Vindaar/shell/edit/master/shell.nim#L616" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="checkShell.m,untyped,untyped"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#checkShell.m%2Cuntyped%2Cuntyped"><span class="Identifier">checkShell</span></a><span class="Other">(</span><span class="Identifier">cmds</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">;</span> <span class="Identifier">exp</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

a wrapper around the shell macro, which can calls <tt class="docutils literal"><span class="pre">unittest.check</span></tt> to check whether construction of the commands works as expected
&nbsp;&nbsp;<a
href="https://github.com/Vindaar/shell/tree/master/shell.nim#L633"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/Vindaar/shell/edit/master/shell.nim#L633" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="shellAssign.m,untyped"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#shellAssign.m%2Cuntyped"><span class="Identifier">shellAssign</span></a><span class="Other">(</span><span class="Identifier">cmd</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/Vindaar/shell/tree/master/shell.nim#L651"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/Vindaar/shell/edit/master/shell.nim#L651" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2020-12-30 10:41:06 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
